<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.7/p5.js"></script>
<script src="lsystem.js"></script>
<script>

  var angle = 60;
  var d = 3;
  var system = new LSystem({
    axiom: 'f',
    rules: {
      'f': "f[+f][-f]f"
    },
    renderRules: {
      'f': function () {
        line(0, 0, d, 0);
        translate(d,0);
      },
      '[': function () {
        push();
      },
      ']': function () {
        pop();
      },
      '+': function () {
        rotate(angle);
      },
      '-': function () {
        rotate(-1 * angle);
      }
    }
  });

  function setup() {
    angleMode(DEGREES);
    frameRate(1);
    createCanvas(1024 * 1.62, 1024);
    background(255);
    stroke(0);
    system.reset();
    system.simulate(3);
    translate(1024 * 1.62 / 2, 1024);
    rotate(-90);
    push();
    system.simulate(6);
    system.render();
    pop();
  }


</script>

